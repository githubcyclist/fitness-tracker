<!DOCTYPE html>
<html>
  <head>
    <title>Fitness Tracker</title>
    <link rel='shortcut icon' href='favicon.ico' type='image/x-icon'/ >
    <link rel="apple-touch-icon" href="fitrack.jpg"/>
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
    <meta content="minimum-scale=1.0, width=device-width, maximum-scale=0.6667, user-scalable=no" name="viewport" />
    <link href="css/style.css" type="text/css" rel="stylesheet" />
    <script src="javascript/functions.js" type="text/javascript"></script>
    <link href="/startup.png" rel="apple-touch-startup-image" />
    <div id="topbar">
    <div id="title">Fitness Tracker</div>
    <br>
    <br>
    <br>
  </head>
  <body>
    <ul class="pageitem">
    <li class="checkbox">
    <span class="name">Did exercise today?</span>
    <input name="didexercisetoday" type="checkbox" />
    </li>
    </ul>
    <ul class="pageitem">
    <span class="graytitle">Types of Exercise</span>
    <li class="checkbox">
    <span class="name">Did push-ups?</span>
    <input name="didpushups" type="checkbox" />
    </li>
    <li class="bigfield"><input placeholder="Minutes spent doing push-ups" name="name" type="text" /></li>
    <li class="bigfield"><input placeholder="Times push-ups done" name="name" type="text" /></li>
    </ul>
    <ul class="pageitem">
    <li class="bigfield"><input placeholder="Minutes spent outside" name="name" type="text" id="minspentoutside"/></li>
    <span class="graytitle">How tired are you?</span>
    <ul class="pageitem">
    <li class="select">
    <select name="education">
    <option value="A little tired">A little tired</option>
    <option value="Moderately tired">Pretty tired</option>
    <option value="Very tired">Very tired</option>
    </select>
    <span class="arrow"></span>
    </li>
    </ul>
    <ul class = "pageitem">
    <script language = "javascript">
    function FileHelper()
/*{}
{
    FileHelper.readStringFromFileAtPath = function(pathOfFileToReadFrom)
    {
        var request = new XMLHttpRequest();
        request.open("GET", pathOfFileToReadFrom, false);
        request.send(null);
        var returnValue = request.responseText;

        return returnValue;
    }
}

...

var text = FileHelper.readStringFromFileAtPath ( "outside.txt" );
function writeTextFile() {
	document.write("Don't forget me! I'm not nothing!");
	var txtFile = new File("outside.txt");
	txtFile.open("w"); //
	txtFile.writeln(document.getElementById('minspentoutside').value);
	txtFile.close();
}
function readTextFile() {
	document.write("Don't forget me! I'm not nothing!");
	var str = "";
	var txtFile = new File("outside.txt");
	txtFile.open("r");
	while (!txtFile.eof) {
		// read each line of text
		str += txtFile.readln() + "\n";
	}
	$("p").html(text);
}*/
function createCookie(name, value, expires, path, domain) {
  var cookie = name + "=" + escape(value) + ";";

  if (expires) {
    // If it's a date
    if(expires instanceof Date) {
      // If it isn't a valid date
      if (isNaN(expires.getTime()))
       expires = new Date();
    }
    else
      expires = new Date(new Date().getTime() + parseInt(expires) * 1000 * 60 * 60 * 24);

    cookie += "expires=" + expires.toGMTString() + ";";
  }

  if (path) {
    cookie += "path=" + path + ";";
  if (domain)
    cookie += "domain=" + domain + ";";

  document.cookie = cookie;
}
function getCookie(name) {
  var regexp = new RegExp("(?:^" + name + "|;\s*"+ name + ")=(.*?)(?:;|$)", "g");
  var result = regexp.exec(document.cookie);
  return (result === null) ? null : result[1];
}
function writeTextFile() {
	createCookie("outsidemins", document.getElementById('minspentoutside').value, new Date(new Date().getTime() + 10000));
}
function readTextFile() {
	document.write(getCookie("outsidemins"));
}
    </script>
    <button type = "button" onclick = "writeTextFile()">Submit</button>
    <li class="menu"><a href = "javascript:writeTextFile()">
    <span class="name">Submit</span><span class="arrow"></span></a></li>
    <li class="menu"><a href = "javascript:readTextFile()">
    <span class="name">Stats</span><span class="arrow"></span></a></li>
    <span class="graytitle">Minutes spent outside: </span>
    <p>...</p>
    </ul>
  </body>
</html>
